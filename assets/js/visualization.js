"use strict";let maptitles=[],mapCount,vizmaps=function vizmaps(container,mapType,purpose){let mapPurpose=arguments[2],selectedContainer=arguments[0],overlayedContainer=arguments[0].slice(0,-7),map=new L.Map(container).setView([51.46,5.45],11);L.esri.basemapLayer(mapType).addTo(map);let mapLayers={nb:function(e){let t=d3.geoTransform({point:function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(a.x,a.y)}}),a=d3.geoPath().projection(t),o=d3.select(map.getPanes().overlayPane).append("svg"),r=o.append("g").attr("class","leaflet-zoom-hide"),s=r.selectAll("path").data(geojson_nb.features).enter().append("path");function n(){let t=a.bounds(geojson_nb),n=t[0],p=t[1];o.attr("width",p[0]-n[0]).attr("height",p[1]-n[1]).style("left",n[0]+"px").style("top",n[1]+"px"),r.attr("transform","translate("+-n[0]+","+-n[1]+")"),r.classed("map-nb",!0),s.attr("d",a).style("stroke","#666666").style("fill","rgba(200, 200, 200, 0.1)").style("stroke-width","2px").attr("class","pointer-release").style("cursor","pointer"),s.on("mouseover",function(e){d3.select(this).transition().style("fill","rgba(200, 200, 200, 0.5)").duration(400)}).on("mousemove",function(e){let t;t=null!==e.properties.neighborhood?'<span class="nb-tooltip_neighbor">'+e.properties.neighborhood+"</span>":'<span class="nb-tooltip_neighbor">No Data</span>',$("."+selectedContainer+"-tooltip").html(t).attr("aria-hidden","false").attr("width","auto").css("left",xLoction+20+"px").css("top",yLocation+20+"px")}).on("mouseout",function(){d3.select(this).transition().style("fill","rgba(200, 200, 200, 0.1)").duration(200),$("#"+selectedContainer+"-tooltip").attr("aria-hidden","true")}),$(e).attr("aria-hidden","true")}map.on("moveend",n),n()},wd:function wd(loader,tooltip){let projectPoint=function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(a.x,a.y)},transform=d3.geoTransform({point:projectPoint}),path=d3.geoPath().projection(transform),svg_wd=d3.select(map.getPanes().overlayPane).append("svg"),g_wd=svg_wd.append("g").attr("class","leaflet-zoom-hide"),feature_wd=g_wd.selectAll("path").data(geojson_wd.features).enter().append("path");function reset(){let bounds=path.bounds(geojson_wd),topLeft=bounds[0],bottomRight=bounds[1];function tooltip_wd(){feature_wd.on("mouseover",function(e){d3.select(this).transition().style("fill","rgba(200, 200, 200, 0.5)").duration(400)}).on("mousemove",function(d){let info;info=null!==d.properties.ward?'<span class="wd-tooltip_neighbor">'+d.properties.ward+"</span>":'<span class="wd-tooltip_neighbor">No Data</span>',$("#"+selectedContainer+"tooltip").html(info).attr("aria-hidden","false").attr("width","auto").css("left",d3.event.pageX-eval("xPos_"+selectedContainer)+"px").css("top",d3.event.pageY-eval("yPos_"+selectedContainer)-40+"px")}).on("mouseout",function(){d3.select(this).transition().style("fill","rgba(200, 200, 200, 0.1)").duration(200),$("#"+selectedContainer+"tooltip").attr("aria-hidden","true")})}svg_wd.attr("width",bottomRight[0]-topLeft[0]).attr("height",bottomRight[1]-topLeft[1]).style("left",topLeft[0]+"px").style("top",topLeft[1]+"px"),g_wd.attr("transform","translate("+-topLeft[0]+","+-topLeft[1]+")"),g_wd.classed("map-wd",!0),feature_wd.attr("d",path).style("stroke","#666666").style("fill","rgba(200, 200, 200, 0.1)").style("stroke-width","2px").attr("class","pointer-release").style("cursor","pointer"),tooltip_wd(),$(loader).attr("aria-hidden","true")}map.on("moveend",reset),reset()},mp1:function(e){let t=d3.geoTransform({point:function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(a.x,a.y)}}),a=d3.geoPath().projection(t),o=d3.select(map.getPanes().overlayPane).append("svg"),r=o.append("g").attr("class","leaflet-zoom-hide"),s=r.selectAll("path").data(geojson_mp1.features).enter().append("path");function n(){let t=a.bounds(geojson_mp1),n=t[0],p=t[1];o.attr("width",p[0]-n[0]).attr("height",p[1]-n[1]).style("left",n[0]+"px").style("top",n[1]+"px"),"Overlay"==mapPurpose&&o.classed("mp1-overlay",!0),r.attr("transform","translate("+-n[0]+","+-n[1]+")"),s.attr("d",a).style("stroke","rgb(187,187,187)").style("stroke-width","1px").style("stroke",e=>"Bennekel-West, Gagelbosch"==e.properties.neighborhood||"Bennekel-Oost"==e.properties.neighborhood?"#5f89ad":"rgb(187,187,187)").style("stroke-width",e=>{if("Bennekel-West, Gagelbosch"==e.properties.neighborhood||"Bennekel-Oost"==e.properties.neighborhood)return"2px"}).style("fill",e=>e.properties.sports>=70&e.properties.sports<80?"rgb(215,48,31)":e.properties.sports>=60&e.properties.sports<70?"rgb(252,141,89)":e.properties.sports>=50&e.properties.sports<60?"rgb(253,204,138)":e.properties.sports>=40&e.properties.sports<50?"rgb(254,240,217)":"rgb(212,212,212)").attr("class","pointer-release").style("cursor","pointer"),s.on("mouseover",function(e){d3.select(this).transition().style("opacity",.5).duration(200)}).on("mousemove",function(e){let t;t=null!==e.properties.sports&&"Bennekel-West, Gagelbosch"!=e.properties.neighborhood&&"Bennekel-Oost"!=e.properties.neighborhood?'<span class="mp1-tooltip_neighbor">'+e.properties.neighborhood+'</span><span class="mp1-tooltip_value">'+e.properties.sports+"%</span>":"Bennekel-West, Gagelbosch"==e.properties.neighborhood||"Bennekel-Oost"==e.properties.neighborhood?'<span class="mp1-tooltip_neighbor">'+e.properties.neighborhood+'</span><span class="mp1-tooltip_value">'+e.properties.sports+'%</span><span class="mp1-tooltip_moreInfo">*Click for more info</span>':'<span class="mp1-tooltip_neighbor">'+e.properties.neighborhood+'</span><span class="mp1-tooltip_value">No Data</span>',"Overlay"==mapPurpose?$("."+overlayedContainer+"-tooltip").html(t).attr("aria-hidden","false").attr("width","auto").css("left",xLoction+"px").css("top",yLocation+"px"):$("."+selectedContainer+"-tooltip").html(t).attr("aria-hidden","false").attr("width","auto").css("left",xLoction+20+"px").css("top",yLocation+20+"px")}).on("click",function(e){"Bennekel-West, Gagelbosch"!=e.properties.neighborhood&&"Bennekel-Oost"!=e.properties.neighborhood||($("#page-hinder").attr("aria-hidden",!1),setTimeout(function(){$("#Bennekel-modal").attr("aria-hidden",!1)},500))}).on("mouseout",function(){d3.select(this).transition().style("opacity",1).duration(200),"Overlay"==mapPurpose?$("."+overlayedContainer+"-tooltip").attr("aria-hidden","true"):$("."+selectedContainer+"-tooltip").attr("aria-hidden","true")}),$(e).attr("aria-hidden","true")}"Overlay"==mapPurpose&&"mp1"!=overlayedContainer&&o.attr("aria-hidden",!0),map.on("moveend",n),n()},mp2:function(e){let t=d3.geoTransform({point:function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(e,t));this.stream.point(a.x,a.y)}}),a=d3.geoPath().projection(t),o=d3.select(map.getPanes().overlayPane).append("svg"),r=o.append("g").attr("class","leaflet-zoom-hide"),s=r.selectAll("path").data(geojson_mp2.features).enter().append("path");function n(){let t=a.bounds(geojson_mp2),n=t[0],p=t[1];o.attr("width",p[0]-n[0]).attr("height",p[1]-n[1]).style("left",n[0]+"px").style("top",n[1]+"px"),r.attr("transform","translate("+-n[0]+","+-n[1]+")"),"Overlay"==mapPurpose&&o.classed("mp2-overlay",!0),s.attr("d",a).style("fill",e=>"geel"==e.properties.color?"rgb(247,189,48)":"wit"==e.properties.color?"rgb(255,255,255)":"blauw"==e.properties.color?"rgb(81,157,213)":"oranje"==e.properties.color?"rgb(243,112,33)":void 0).style("opacity",e=>e.properties.watt<=100?.5:e.properties.watt>100&&e.properties.watt<=150?.6:e.properties.watt>150&&e.properties.watt<=200?.7:e.properties.watt>200&&e.properties.watt<=250?.8:e.properties.watt>250&&e.properties.watt<=300?.9:e.properties.watt>300?1:void 0);let i=map.getZoom();i<=11?s.attr("d",a.pointRadius([.5])):12==i?s.attr("d",a.pointRadius([.5])):13==i?s.attr("d",a.pointRadius([1])):14==i?s.attr("d",a.pointRadius([2])):15==i?s.attr("d",a.pointRadius([3])):16==i?s.attr("d",a.pointRadius([4])):17==i?s.attr("d",a.pointRadius([5])):18==i?s.attr("d",a.pointRadius([6])):19==i?s.attr("d",a.pointRadius([7])):s.attr("d",a.pointRadius([8])),$(e).attr("aria-hidden","true")}"Overlay"==mapPurpose&&"mp2"!=overlayedContainer&&o.attr("aria-hidden",!0),map.on("moveend",n),n()},mp3:function(e){const t=d3.geoTransform({point:function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(a.x,a.y)}}),a=d3.geoPath().projection(t);let o=d3.select(map.getPanes().overlayPane).append("svg"),r=o.append("g").attr("class","leaflet-zoom-hide"),s=r.selectAll("path").data(geojson_mp3.features).enter().append("path");function n(){let t=a.bounds(geojson_mp3),n=t[0],p=t[1];o.attr("width",p[0]-n[0]).attr("height",p[1]-n[1]).style("left",n[0]+"px").style("top",n[1]+"px"),r.attr("transform","translate("+-n[0]+","+-n[1]+")"),"Overlay"==mapPurpose&&o.classed("mp3-overlay",!0),s.attr("d",a).style("stroke-width","1px").style("fill",e=>"allotments"==e.properties.fclass?"rgb(237,248,177)":"farm"==e.properties.fclass?"rgb(65,171,93)":"forest"==e.properties.fclass?"rgb(0,68,27)":"grass"==e.properties.fclass?"rgb(173,221,142)":"meadow"==e.properties.fclass?"rgb(247,252,185)":"orchard"==e.properties.fclass?"rgb(199,233,180)":"park"==e.properties.fclass?"rgb(35,132,67)":"rgb(212,212,212)").attr("class","pointer-release").style("cursor","pointer"),s.on("mouseover",function(e){d3.select(this).transition().style("opacity",.5).duration(200)}).on("mousemove",function(e){let t;t=null===e.properties.fclass?'<span class="mp3-tooltip_green"> Not Defined </span>':'<span class="mp3-tooltip_green">'+e.properties.fclass+"</span>",$("."+selectedContainer+"-tooltip").html(t).attr("aria-hidden","false").attr("width","auto").css("left",xLoction+20+"px").css("top",yLocation+20+"px")}).on("mouseout",function(){d3.select(this).transition().style("opacity",1).duration(200),$("."+selectedContainer+"-tooltip").attr("aria-hidden","true")}),$(e).attr("aria-hidden",!0)}"Overlay"==mapPurpose&&"mp3"!=overlayedContainer&&o.attr("aria-hidden",!0),map.on("moveend",n),n()},mp4:function(e){let t=d3.geoTransform({point:function(e,t){let a=map.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(a.x,a.y)}}),a=d3.geoPath().projection(t),o=d3.select(map.getPanes().overlayPane).append("svg"),r=o.append("g").attr("class","leaflet-zoom-hide"),s=r.selectAll("path").data(geojson_mp4.features).enter().append("path");function n(){let t=a.bounds(geojson_mp4),n=t[0],p=t[1];o.attr("width",p[0]-n[0]).attr("height",p[1]-n[1]).style("left",n[0]+"px").style("top",n[1]+"px"),r.attr("transform","translate("+-n[0]+","+-n[1]+")"),"Overlay"==mapPurpose&&o.classed("mp4-overlay",!0);let i=map.getZoom();s.attr("d",a).style("stroke","rgb(67,133,244)").style("opacity",.8).style("stroke-width",()=>i<=11?1:12==i?1.5:13==i?2:14==i?3:15==i?4:16==i?5:1).style("fill","none").attr("class","pointer-release").style("cursor","pointer"),$(e).attr("aria-hidden","true")}"Overlay"==mapPurpose&&"mp4"!=overlayedContainer&&o.attr("aria-hidden",!0),map.on("moveend",n),n()}};function initializeMaps(){"mp1"==selectedContainer?(mapLayers.mp1("#"+selectedContainer+"-loader"),maptitles[0]=$("#"+selectedContainer).prev().html()):"mp2"==selectedContainer?(mapLayers.mp2("#"+selectedContainer+"-loader"),maptitles[1]=$("#"+selectedContainer).prev().html()):"mp3"==selectedContainer?(mapLayers.mp3("#"+selectedContainer+"-loader"),maptitles[2]=$("#"+selectedContainer).prev().html()):"mp4"==selectedContainer?(mapLayers.mp4("#"+selectedContainer+"-loader"),maptitles[3]=$("#"+selectedContainer).prev().html()):"mp1Overlay"==selectedContainer?(mapLayers.mp1("#"+selectedContainer+"-loader"),mapLayers.mp2("#"+selectedContainer+"-loader"),mapLayers.mp3("#"+selectedContainer+"-loader"),mapLayers.mp4("#"+selectedContainer+"-loader")):"mp2Overlay"==selectedContainer?(mapLayers.mp1("#"+selectedContainer+"-loader"),mapLayers.mp2("#"+selectedContainer+"-loader"),mapLayers.mp3("#"+selectedContainer+"-loader"),mapLayers.mp4("#"+selectedContainer+"-loader")):"mp3Overlay"==selectedContainer?(mapLayers.mp1("#"+selectedContainer+"-loader"),mapLayers.mp2("#"+selectedContainer+"-loader"),mapLayers.mp3("#"+selectedContainer+"-loader"),mapLayers.mp4("#"+selectedContainer+"-loader")):"mp4Overlay"==selectedContainer&&(mapLayers.mp1("#"+selectedContainer+"-loader"),mapLayers.mp2("#"+selectedContainer+"-loader"),mapLayers.mp3("#"+selectedContainer+"-loader"),mapLayers.mp4("#"+selectedContainer+"-loader"))}initializeMaps()},vizcharts=function(e){function t(e){let t=d3.select(e.node().parentNode),a=parseInt(e.style("width")),o=parseInt(e.style("height")),r=a/o;function s(){let a=parseInt(t.style("width"));e.attr("width",a),e.attr("height",Math.round(a/r))}e.attr("viewBox","0 0 "+a+" "+o).attr("perserveAspectRatio","xMinYMid").call(s),d3.select(window).on("resize."+t.attr("id"),s)}"ln1"==arguments[0]&&function(){let e=ln1Data,a=30,o=26,r=80,s=40,n=parseInt(d3.select("#ln1").style("width"))-s-o,p=parseInt(d3.select("#ln1").style("height"))-a-r,i=parseInt(d3.select("#ln1").style("width")),l=parseInt(d3.select("#ln1").style("height"))-40,d=d3.timeParse("%Y");e.forEach(e=>{e.values.forEach(e=>{e.year=d(e.year),e.percent=+e.percent})});let c=d3.scaleTime().range([0,n]),m=d3.scaleLinear().range([p,0]);c.domain(d3.extent(e[0].values,function(e){return e.year})),m.domain([40,85]);let h=d3.axisBottom(c),u=d3.axisLeft(m).ticks(7).tickSize(4),g=d3.axisLeft().tickFormat("").tickSize(-n).scale(m),y=d3.select("#ln1").append("svg").attr("class",()=>{if("Apple Computer, Inc."==navigator.vendor)return"topMargin"}).attr("height",l).attr("width",i).style("cursor","pointer").on("mouseenter",()=>{$(".ln1-group").addClass("in-active")}).on("mouseleave",()=>{$(".ln1-group").removeClass("in-active")}).call(t).attr("transform","translate(0,40)").append("g").attr("width",n).attr("height",p).attr("transform","translate("+s+","+a+")");y.append("g").attr("class","grid").call(g);let f=d3.line().x(e=>c(e.year)).y(e=>m(e.percent));y.append("g").attr("class","ln1lines").selectAll(".ln1line-group").data(e).enter().append("g").attr("class","ln1-group").append("path").attr("class","line").attr("d",e=>f(e.values)).on("mouseover",function(e){this.parentNode.appendChild(this),d3.select(this).classed("active",!0)}).on("mousemove",function(e){let t='<span class="ln1-tooltip_neighbor">'+e.name+"</span>";$(".ln1-tooltip").html(t).attr("aria-hidden",!1).attr("width","auto").attr("height","100px").css("left",xLoction+20+"px").css("top",yLocation+20+"px")}).on("mouseout",function(){d3.select(this).classed("active",!1),$(".ln1-tooltip").attr("aria-hidden",!0)}),y.append("g").attr("class","ln1-xAxis").attr("transform","translate(0,"+p+")").call(h),y.append("g").attr("class","ln1-yAxis").call(u).call(e=>e.select(".domain").remove()),y.append("text").attr("y",-20).attr("x",0).attr("dy","1em").style("text-anchor","middle").text("percent").style("font-size","10px").style("font-weight","bold"),$("#ln1-loader").attr("aria-hidden",!0)}()};