"use strict";let loading=[],geojson_nb={},geojson_wd={},geojson_mp1={},ln1Data=[];const duration11=900,delay11=2e3,duration21=890,delay21=2890,duration22=880,delay22=3770,duration23=870,delay23=4640,duration31=860,delay31=5500,duration32=850,delay32=6350,duration33=840,delay33=7190,duration41=830,delay41=8020,duration42=820,delay42=8840,duration43=810,delay43=9650,duration51=800,delay51=10450,duration52=790,delay52=11240,duration53=780,delay53=12020,duration54=770,delay54=12790,duration61=760,delay61=13550,duration62=750,delay62=14300,duration63=740,delay63=15040,duration71=730,delay71=15770,duration72=720,delay72=16490,duration73=710,delay73=17200;!function(){const e=fetch("https://data.eindhoven.nl/api/records/1.0/search/?dataset=buurten&rows=116&facet=buurtcode&facet=buurtnaam&facet=wijkcode&facet=wijknaam").then(e=>e.json()),r=fetch("https://data.eindhoven.nl/api/records/1.0/search/?dataset=wijken&rows=20&facet=wijkcode&facet=wijknaam").then(e=>e.json()),o=fetch("https://raw.githubusercontent.com/tue-vll/data/master/Sport2017.json").then(e=>e.json());Promise.all([e,r,o]).then(e=>{let r=e[0].records,o=e[1].records,t=e[2],i=(e[3],e[4],r.length),n={type:"FeatureCollection",features:[]};for(let e=0;e<i;e++){let o={type:"Feature",geometry:{type:"Polygon",coordinates:r[e].fields.geo_shape.coordinates},properties:{neighborhood:r[e].fields.buurtnaam}};n.features.push(o)}let a=[];for(let e=0;e<n.features.length;e++){let r=n.features[e].properties;r=r.neighborhood.replace(", ",",");const o=t.filter(e=>e.Buurten==r);a.push(o[0])}for(let e=0;e<n.features.length;e++)n.features[e].properties.sports=a[e]["doet aan sport 2017"];let s=o.length;geojson_wd.type="FeatureCollection",geojson_wd.features=[];for(let e=0;e<s;e++){let r={type:"Feature",geometry:{type:"Polygon",coordinates:o[e].fields.geo_shape.coordinates},properties:{ward:o[e].fields.wijknaam.slice(5)}};geojson_wd.features.push(r)}const d=()=>{!function(){let e=new L.Map("mp1",{zoomControl:!1}).setView([51.453,5.45],13);L.esri.basemapLayer("Gray").addTo(e),setTimeout(function(){!function(){let r=d3.geoTransform({point:function(r,o){let t=e.latLngToLayerPoint(new L.LatLng(o,r));this.stream.point(t.x,t.y)}}),o=d3.geoPath().projection(r),t=d3.select(e.getPanes().overlayPane).append("svg"),i=t.append("g").attr("class","leaflet-zoom-hide"),a=i.selectAll("path").data(n.features).enter().append("path");function s(){let e=o.bounds(n),r=e[0],s=e[1];t.attr("width",s[0]-r[0]).attr("height",s[1]-r[1]).style("left",r[0]+"px").style("top",r[1]+"px"),i.attr("transform","translate("+-r[0]+","+-r[1]+")"),a.attr("d",o).style("stroke","rgb(187,187,187)").style("stroke-width","1px").style("fill","none").style("opacity","0.3").style("fill",e=>e.properties.sports>=70&e.properties.sports<80?"rgb(215,48,31)":e.properties.sports>=60&e.properties.sports<70?"rgb(252,141,89)":e.properties.sports>=50&e.properties.sports<60?"rgb(253,204,138)":e.properties.sports>=40&e.properties.sports<50?"rgb(254,240,217)":"rgb(212,212,212)").attr("class","pointer-release").style("cursor","pointer"),a.on("mouseover",function(e){let r;r=null!==e.properties.sports?'<span class="sp-tooltip_neighbor">'+e.properties.neighborhood+'</span><span "sp-tooltip_value">'+e.properties.sports+"%</span>":'<span class="sp-tooltip_neighbor">'+e.properties.neighborhood+'</span><span "sp-tooltip_value">No Data</span>',$("#mp1-tooltip").html(r).attr("aria-hidden","false").attr("width","auto").css("left",d3.mouse(this)[0]+10+"px").css("top",d3.mouse(this)[1]-50+"px")}).on("mouseout",function(){$("#mp1-tooltip").attr("aria-hidden","true")}),a.filter(function(e){return"Witte Dame"==e.properties.neighborhood||"Bergen"==e.properties.neighborhood||"Binnenstad"==e.properties.neighborhood||"Fellenoord"==e.properties.neighborhood||"Fellenoord"==e.properties.neighborhood||"TU-terrein"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration11).delay(delay11),a.filter(function(e){return"Elzent-Noord"==e.properties.neighborhood||"Elzent-Zuid"==e.properties.neighborhood||"Looiakkers"==e.properties.neighborhood||"Bloemenplein"==e.properties.neighborhood||"Bloemenplein"==e.properties.neighborhood||"Joriskwartier"==e.properties.neighborhood||"Tuindorp"==e.properties.neighborhood||"Rochusbuurt"==e.properties.neighborhood||"Irisbuurt"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration21).delay(delay21),a.filter(function(e){return"Genneperzijde"==e.properties.neighborhood||"Gerardusplein"==e.properties.neighborhood||"Kerstroosplein"==e.properties.neighborhood||"Sportpark Aalsterweg"==e.properties.neighborhood||"Eikenburg"==e.properties.neighborhood||"Roosten"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration22).delay(delay22),a.filter(function(e){return"Nieuwe Erven"==e.properties.neighborhood||"Kerstroosplein"==e.properties.neighborhood||"Eikenburg"==e.properties.neighborhood||"Gerardusplein"==e.properties.neighborhood||"Kruidenbuurt"==e.properties.neighborhood||"Schuttersbosch"==e.properties.neighborhood||"Leenderheide"==e.properties.neighborhood||"Riel"==e.properties.neighborhood||"Gijzenrooi"==e.properties.neighborhood||"Tivoli"==e.properties.neighborhood||"Sintenbuurt"==e.properties.neighborhood||"Burghplan"==e.properties.neighborhood||"Puttense Dreef"==e.properties.neighborhood||"Poeijers"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration23).delay(delay23),$("#mp1-loader").attr("aria-hidden","true"),a.filter(function(e){return"Villapark"==e.properties.neighborhood||"Lakerlopen"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration31).delay(delay31),a.filter(function(e){return"Doornakkers-West"==e.properties.neighborhood||"Doornakkers-Oost"==e.properties.neighborhood||"Tongelresche Akkers"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration32).delay(delay32),a.filter(function(e){return"Karpen"==e.properties.neighborhood||"Koudenhoven"==e.properties.neighborhood||"'t Hofke"==e.properties.neighborhood||"Muschberg, Geestenberg"==e.properties.neighborhood||"Urkhoven"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration33).delay(delay33),a.filter(function(e){return"Limbeek-Zuid"==e.properties.neighborhood||"Limbeek-Noord"==e.properties.neighborhood||"Hemelrijken"==e.properties.neighborhood||"Gildebuurt"==e.properties.neighborhood||"Woenselse Watermolen"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration41).delay(delay41),a.filter(function(e){return"Vredeoord"==e.properties.neighborhood||"Woensel-West"==e.properties.neighborhood||"Barrier"==e.properties.neighborhood||"Kronehoef"==e.properties.neighborhood||"Rapenland"==e.properties.neighborhood||"Mensfort"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration42).delay(delay42),a.filter(function(e){return"Generalenbuurt"==e.properties.neighborhood||"Oude Toren"==e.properties.neighborhood||"Hondsheuvels"==e.properties.neighborhood||"Oude Gracht-West"==e.properties.neighborhood||"Oude Gracht-Oost"==e.properties.neighborhood||"Eckartdal"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration43).delay(delay43),a.filter(function(e){return"Driehoeksbos"==e.properties.neighborhood||"Prinsejagt"==e.properties.neighborhood||"Jagershoef"==e.properties.neighborhood||"'t Hool"==e.properties.neighborhood||"Vlokhoven"==e.properties.neighborhood||"Winkelcentrum"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration51).delay(delay51),a.filter(function(e){return"Kapelbeemd"==e.properties.neighborhood||"Kerkdorp Acht"==e.properties.neighborhood||"Achtse Barrier-Gunterslaer"==e.properties.neighborhood||"Achtse Barrier-Spaaihoef"==e.properties.neighborhood||"Achtse Barrier-Hoeven"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration52).delay(delay52),a.filter(function(e){return"CastiliÃ«laan"==e.properties.neighborhood||"Blixembosch-West"==e.properties.neighborhood||"Woenselse Heide"==e.properties.neighborhood||"Tempel"==e.properties.neighborhood||"Blixembosch-Oost"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration53).delay(delay53),a.filter(function(e){return"Esp"==e.properties.neighborhood||"Bokt"==e.properties.neighborhood||"Heesterakker"==e.properties.neighborhood||"Vaartbroek"==e.properties.neighborhood||"Eckart"==e.properties.neighborhood||"Luytelaer"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration54).delay(delay54),a.filter(function(e){return"Schoot"==e.properties.neighborhood||"Strijp S"==e.properties.neighborhood||"Philipsdorp"==e.properties.neighborhood||"Schouwbroek"==e.properties.neighborhood||"Engelsbergen"==e.properties.neighborhood||"Eliasterrein, Vonderkwartier"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration61).delay(delay61),a.filter(function(e){return"Mispelhoef"==e.properties.neighborhood||"Wielewaal"==e.properties.neighborhood||"Herdgang"==e.properties.neighborhood||"Lievendaal"==e.properties.neighborhood||"Drents Dorp"==e.properties.neighborhood||"Zwaanstraat"==e.properties.neighborhood||"Het Ven"==e.properties.neighborhood||"Hurk"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration62).delay(delay62),a.filter(function(e){return"Eindhoven Airport"==e.properties.neighborhood||"BeA2"==e.properties.neighborhood||"Flight Forum"==e.properties.neighborhood||"Park Forum"==e.properties.neighborhood||"Waterrijk"==e.properties.neighborhood||"Meerrijk"==e.properties.neighborhood||"Bosrijk"==e.properties.neighborhood||"Zandrijk"==e.properties.neighborhood||"Meerbos"==e.properties.neighborhood||"Grasrijk"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration63).delay(delay63),a.filter(function(e){return"Hagenkamp"==e.properties.neighborhood||"Oude Spoorbaan"==e.properties.neighborhood||"Schrijversbuurt"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration71).delay(delay71),a.filter(function(e){return"Beemden"==e.properties.neighborhood||"Gennep"==e.properties.neighborhood||"Bennekel-West, Gagelbosch"==e.properties.neighborhood||"Bennekel-Oost"==e.properties.neighborhood||"Rapelenburg"==e.properties.neighborhood||"Blaarthem"==e.properties.neighborhood||"Genderdal"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration72).delay(delay72),a.filter(function(e){return"Genderbeemd"==e.properties.neighborhood||"Hanevoet"==e.properties.neighborhood||"Ooievaarsnest"==e.properties.neighborhood}).transition().style("opacity","1").duration(duration73).delay(delay73)}e.on("moveend",s),s()}(),function(){let r=d3.geoTransform({point:function(r,o){let t=e.latLngToLayerPoint(new L.LatLng(o,r));this.stream.point(t.x,t.y)}}),o=d3.geoPath().projection(r),t=d3.select(e.getPanes().overlayPane).append("svg"),i=t.append("g").attr("class","leaflet-zoom-hide"),n=i.selectAll("path").data(geojson_wd.features).enter().append("path");function a(){let e=o.bounds(geojson_wd),r=e[0],a=e[1];t.attr("width",a[0]-r[0]).attr("height",a[1]-r[1]).style("left",r[0]+"px").style("top",r[1]+"px"),i.attr("transform","translate("+-r[0]+","+-r[1]+")"),i.classed("map-wd",!0),n.attr("d",o).style("fill","rgba(255,255,255,0)").style("stroke","none").attr("class","pointer-release").attr("class","wd").style("cursor","pointer").style("stroke","rgba(102,102,102, 0)").style("stroke-width","2px"),n.filter(function(e){return"Centrum"==e.properties.ward}).classed("wd11",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration11).delay(delay11).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Oud-Stratum"==e.properties.ward}).classed("wd21",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration21).delay(delay21).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Kortonjo"==e.properties.ward}).transition().style("stroke","rgba(102,102,102, 1)").duration(duration22).delay(delay22).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Putten"==e.properties.ward}).classed("wd23",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration23).delay(delay23).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"De Laak"==e.properties.ward}).classed("wd31",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration31).delay(delay31).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Doornakkers"==e.properties.ward}).classed("wd32",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration32).delay(delay32).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Oud-Tongelre"==e.properties.ward}).classed("wd33",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration33).delay(delay33).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Oud-Woensel"==e.properties.ward}).classed("wd41",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration41).delay(delay41).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Erp"==e.properties.ward}).classed("wd42",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration42).delay(delay42).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Begijnenbroek"==e.properties.ward}).classed("wd43",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration43).delay(delay43).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Ontginning"==e.properties.ward}).classed("wd51",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration51).delay(delay51).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Achtse Molen"==e.properties.ward}).classed("wd52",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration52).delay(delay52).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Aanschot"==e.properties.ward}).classed("wd53",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration53).delay(delay53).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Dommelbeemd"==e.properties.ward}).classed("wd54",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration54).delay(delay54).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Oud-Strijp"==e.properties.ward}).classed("wd61",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration61).delay(delay61).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Halve Maan"==e.properties.ward}).classed("wd62",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration62).delay(delay62).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Meerhoven"==e.properties.ward}).classed("wd63",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration63).delay(delay63).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Rozenknopje"==e.properties.ward}).classed("wd71",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration71).delay(delay71).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Oud-Gestel"==e.properties.ward}).classed("wd72",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration72).delay(delay72).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.filter(function(e){return"Gestelse Ontginning"==e.properties.ward}).classed("wd73",!0).transition().style("stroke","rgba(102,102,102, 1)").duration(duration73).delay(delay73).transition().style("stroke","rgba(102,102,102, 0)").duration(200),n.attr("d",o).style("fill","rgba(255,255,255,0)").style("stroke-width","2px").style("stroke","none").attr("id",function(e){let r=e.properties.ward;return r=r.replace(/ /g,"-")+"_map"}).attr("class","pointer-release").style("cursor","pointer"),n.on("mouseover",function(e){d3.select(this).transition().style("stroke",function(e){return"Oud-Gestel"!==e.properties.ward?"rgba(102,102,102, 1)":"#5f89ad"}).style("stroke-width",function(e){return"Oud-Gestel"!==e.properties.ward?"2px":"3px"}).style("fill","rgba(200, 200, 200, 0.5)").duration(400)}).on("mousemove",function(e){let r;r=null!==e.properties.ward?'<span class="wd-tooltip_neighbor">'+e.properties.ward+"</span>":'<span class="wd-tooltip_neighbor">No Data</span>',$("#mp1-tooltip").html(r).attr("aria-hidden","false").attr("width","auto").css("left",d3.event.pageX-(xPos_mp1-20)+"px").css("top",d3.event.pageY-(yPos_mp1+20)+"px");let o=$(this).prop("id");"Centrum_map"==o?$("#Centrum_line").addClass("active"):"Oud-Stratum_map"==o?$("#Oud-Stratum_line").addClass("active"):"Kortonjo_map"==o?$("#Kortonjo_line").addClass("active"):"Putten_map"==o?$("#Putten_line").addClass("active"):"De-Laak_map"==o?$("#De-Laak_line").addClass("active"):"Doornakkers_map"==o?$("#Doornakker_line").addClass("active"):"Oud-Tongelre_map"==o?$("#Oud-Tongelre_line").addClass("active"):"Oud-Woensel_map"==o?$("#Oud-Woensel_line").addClass("active"):"Erp_map"==o?$("#Erp_line").addClass("active"):"Begijnenbroek_map"==o?$("#Begijnenbroek_line").addClass("active"):"Ontginning_map"==o?$("#Ontginning_line").addClass("active"):"Achtse-Molen_map"==o?$("#Achtse-Molen_line").addClass("active"):"Aanschot_map"==o?$("#Aanschot_line").addClass("active"):"Dommelbeemd_map"==o?$("#Dommelbeemd_line").addClass("active"):"Oud-Strijp_map"==o?$("#Oud-Strijp_line").addClass("active"):"Halve-Maan_map"==o?$("#Halve-Maan_line").addClass("active"):"Meerhoven_map"==o?$("#Meerhoven_line").addClass("active"):"Rozenknopje_map"==o?$("#Rozenknopje_line").addClass("active"):"Oud-Gestel_map"==o?$("#Oud-Gestel_line").addClass("active"):"Gestelse-Ontginning_map"==o&&$("#Gestelse-Ontginning_line").addClass("active")}).on("click",function(e){"Oud-Gestel"==e.properties.ward&&($("#page-hinder").attr("aria-hidden",!1),setTimeout(function(){$("#Bennekel-modal").attr("aria-hidden",!1)},500))}).on("mouseout",function(){d3.select(this).transition().style("fill","rgba(200, 200, 200, 0)").style("stroke",function(e){return"Oud-Gestel"!==e.properties.ward?"rgba(102,102,102, 0)":"#5f89ad"}).duration(200),$("#mp1-tooltip").attr("aria-hidden","true");let e=$(this).prop("id");"Centrum_map"==e?$("#Centrum_line").removeClass("active"):"Oud-Stratum_map"==e?$("#Oud-Stratum_line").removeClass("active"):"Kortonjo_map"==e?$("#Kortonjo_line").removeClass("active"):"Putten_map"==e?$("#Putten_line").removeClass("active"):"De-Laak_map"==e?$("#De-Laak_line").removeClass("active"):"Doornakkers_map"==e?$("#Doornakker_line").removeClass("active"):"Oud-Tongelre_map"==e?$("#Oud-Tongelre_line").removeClass("active"):"Oud-Woensel_map"==e?$("#Oud-Woensel_line").removeClass("active"):"Erp_map"==e?$("#Erp_line").removeClass("active"):"Begijnenbroek_map"==e?$("#Begijnenbroek_line").removeClass("active"):"Ontginning_map"==e?$("#Ontginning_line").removeClass("active"):"Achtse-Molen_map"==e?$("#Achtse-Molen_line").removeClass("active"):"Aanschot_map"==e?$("#Aanschot_line").removeClass("active"):"Dommelbeemd_map"==e?$("#Dommelbeemd_line").removeClass("active"):"Oud-Strijp_map"==e?$("#Oud-Strijp_line").removeClass("active"):"Halve-Maan_map"==e?$("#Halve-Maan_line").removeClass("active"):"Meerhoven_map"==e?$("#Meerhoven_line").removeClass("active"):"Rozenknopje_map"==e?$("#Rozenknopje_line").removeClass("active"):"Oud-Gestel_map"==e?$("#Oud-Gestel_line").removeClass("active"):"Gestelse-Ontginning_map"==e&&$("#Gestelse-Ontginning_line").removeClass("active")})}e.on("moveend",a),a()}()},3e3)}()};$(document).ready(()=>{d()})})}();